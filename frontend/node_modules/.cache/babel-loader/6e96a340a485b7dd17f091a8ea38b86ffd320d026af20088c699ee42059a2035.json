{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\prati\\\\Desktop\\\\NASA\\\\frontend\\\\src\\\\SpaceStory.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SpaceStory({\n  apod,\n  open,\n  onClose\n}) {\n  _s();\n  const [story, setStory] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [animIdx, setAnimIdx] = useState(0);\n  const generateStory = async () => {\n    setLoading(true);\n    setError(null);\n    setStory('');\n    setAnimIdx(0);\n    try {\n      const res = await axios.post('http://localhost:5000/api/ai-caption', {\n        title: apod.title,\n        explanation: apod.explanation + '\\nWrite a short, poetic story or poem about this image.'\n      });\n      setStory(res.data.caption);\n      setAnimIdx(1); // Start animation\n    } catch (err) {\n      setError('Failed to generate story.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Typewriter animation\n  React.useEffect(() => {\n    if (story && animIdx < story.length) {\n      const t = setTimeout(() => setAnimIdx(i => i + 1), 28);\n      return () => clearTimeout(t);\n    }\n  }, [story, animIdx]);\n  if (!open) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      zIndex: 2000,\n      background: 'rgba(0,0,0,0.7)'\n    },\n    onClick: e => {\n      if (e.target === e.currentTarget) onClose();\n    },\n    tabIndex: -1,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        left: 0,\n        right: 0,\n        top: 60,\n        margin: '0 auto',\n        background: '#23243a',\n        color: '#ffd700',\n        borderRadius: 16,\n        boxShadow: '0 2px 16px #000a',\n        padding: 32,\n        width: 500,\n        maxWidth: '95vw',\n        maxHeight: '80vh',\n        overflowY: 'auto',\n        textAlign: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        \"aria-label\": \"Close\",\n        style: {\n          position: 'absolute',\n          top: 8,\n          right: 12,\n          background: 'none',\n          color: '#ffd700',\n          border: 'none',\n          fontSize: 22,\n          cursor: 'pointer'\n        },\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          color: '#ffd700',\n          marginTop: 0\n        },\n        children: \"\\uD83C\\uDF0C Space Story Mode\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: apod.url,\n        alt: apod.title,\n        style: {\n          width: '100%',\n          borderRadius: 8,\n          marginBottom: 16,\n          boxShadow: '0 2px 8px #0008'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          minHeight: 80,\n          fontFamily: 'serif',\n          fontSize: 18,\n          margin: '16px 0',\n          color: '#ffd700',\n          background: 'rgba(34,34,60,0.95)',\n          borderRadius: 8,\n          padding: 16,\n          boxShadow: '0 2px 8px #0008',\n          whiteSpace: 'pre-line',\n          letterSpacing: 0.5\n        },\n        children: story ? story.slice(0, animIdx) : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: generateStory,\n        disabled: loading,\n        style: {\n          background: '#ffd700',\n          color: '#23243a',\n          border: 'none',\n          borderRadius: 6,\n          padding: '6px 16px',\n          fontWeight: 600,\n          marginTop: 8\n        },\n        children: loading ? 'Generating...' : 'Generate Space Story'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'salmon',\n          marginTop: 8\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n_s(SpaceStory, \"9swNqEHqY6+prAq7Mewpa+501jc=\");\n_c = SpaceStory;\nvar _c;\n$RefreshReg$(_c, \"SpaceStory\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","SpaceStory","apod","open","onClose","_s","story","setStory","loading","setLoading","error","setError","animIdx","setAnimIdx","generateStory","res","post","title","explanation","data","caption","err","useEffect","length","t","setTimeout","i","clearTimeout","style","position","top","left","right","bottom","zIndex","background","onClick","e","target","currentTarget","tabIndex","children","margin","color","borderRadius","boxShadow","padding","width","maxWidth","maxHeight","overflowY","textAlign","border","fontSize","cursor","fileName","_jsxFileName","lineNumber","columnNumber","marginTop","src","url","alt","marginBottom","minHeight","fontFamily","whiteSpace","letterSpacing","slice","disabled","fontWeight","_c","$RefreshReg$"],"sources":["C:/Users/prati/Desktop/NASA/frontend/src/SpaceStory.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default function SpaceStory({ apod, open, onClose }) {\r\n  const [story, setStory] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [animIdx, setAnimIdx] = useState(0);\r\n\r\n  const generateStory = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    setStory('');\r\n    setAnimIdx(0);\r\n    try {\r\n      const res = await axios.post('http://localhost:5000/api/ai-caption', {\r\n        title: apod.title,\r\n        explanation: apod.explanation + '\\nWrite a short, poetic story or poem about this image.'\r\n      });\r\n      setStory(res.data.caption);\r\n      setAnimIdx(1); // Start animation\r\n    } catch (err) {\r\n      setError('Failed to generate story.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Typewriter animation\r\n  React.useEffect(() => {\r\n    if (story && animIdx < story.length) {\r\n      const t = setTimeout(() => setAnimIdx(i => i + 1), 28);\r\n      return () => clearTimeout(t);\r\n    }\r\n  }, [story, animIdx]);\r\n\r\n  if (!open) return null;\r\n  return (\r\n    <div\r\n      style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, zIndex: 2000, background: 'rgba(0,0,0,0.7)' }}\r\n      onClick={e => { if (e.target === e.currentTarget) onClose(); }}\r\n      tabIndex={-1}\r\n    >\r\n      <div style={{ position: 'absolute', left: 0, right: 0, top: 60, margin: '0 auto', background: '#23243a', color: '#ffd700', borderRadius: 16, boxShadow: '0 2px 16px #000a', padding: 32, width: 500, maxWidth: '95vw', maxHeight: '80vh', overflowY: 'auto', textAlign: 'center' }}>\r\n        <button onClick={onClose} aria-label=\"Close\" style={{ position: 'absolute', top: 8, right: 12, background: 'none', color: '#ffd700', border: 'none', fontSize: 22, cursor: 'pointer' }}>Ã—</button>\r\n        <h3 style={{ color: '#ffd700', marginTop: 0 }}>ðŸŒŒ Space Story Mode</h3>\r\n        <img src={apod.url} alt={apod.title} style={{ width: '100%', borderRadius: 8, marginBottom: 16, boxShadow: '0 2px 8px #0008' }} />\r\n        <div style={{ minHeight: 80, fontFamily: 'serif', fontSize: 18, margin: '16px 0', color: '#ffd700', background: 'rgba(34,34,60,0.95)', borderRadius: 8, padding: 16, boxShadow: '0 2px 8px #0008', whiteSpace: 'pre-line', letterSpacing: 0.5 }}>\r\n          {story ? story.slice(0, animIdx) : ''}\r\n        </div>\r\n        <button onClick={generateStory} disabled={loading} style={{ background: '#ffd700', color: '#23243a', border: 'none', borderRadius: 6, padding: '6px 16px', fontWeight: 600, marginTop: 8 }}>\r\n          {loading ? 'Generating...' : 'Generate Space Story'}\r\n        </button>\r\n        {error && <div style={{ color: 'salmon', marginTop: 8 }}>{error}</div>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}